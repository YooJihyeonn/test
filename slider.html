<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    list-style: none;
    text-decoration: none;
    color: #fff989;
}
.flex {
    display: flex;
}

.flex-direction {
    flex-direction: column;
}

.just-a {
    justify-content: space-around;
}

.just-b {
    justify-content: space-between;
}

.just-e {
    justify-content: space-evenly;
}

.just-center {
    justify-content: center;
}

.just-flexend {
    justify-content: flex-end;
}

.align-item {
    align-items: center;
}

.align-item-b {
    align-items: flex-end;
}

.absolute {
    position: absolute;
}

.hidden {
    display: none;
}
    #slider {
    width: 100%;
    /* height: 130vh; */
    padding-top: 20vh;
    position: relative;
    border: 1px solid black;
}

h4 {
    font-family: 'Antic Didone', serif;
    font-weight: 500;
    color: #547543;
    font-size: 3rem;
    margin-left: 10vw;
    position: relative;
    z-index: 1;
}

.bgcircle-1 {
    background-image: url(./images/images_48.png);
    background-size: contain;
    background-repeat: no-repeat;
    width: 7vw;
    height: 14vh;
    position: absolute;
    top: 8vw;
    left: 8.5vw;
}

#sliderimg {
    margin-top: 20vh;
}
#prodctimage{
  position: relative;
  z-index: 1;
}
/* .change {
  width: 20vw;
  height: 45vh;
} */
.container{
  width: 20vw;
  height: 45vh;
  border-radius: 20vw 40%;
  position: relative;
  overflow: hidden;
  border: 1px solid green;
}
.c-bgimge {
  width: 100%;
  height: 45vh;
  border: 1px solid blue;
  display: flex;
  position: relative;
}
.c-bgimge div{
  width: 20vw;
  height: 45vh;
  border-radius: 20vw 40%;
  border: 1px solid red;
  position: absolute;
  top:0;
  left: 0;
}
.sliderbuttonwrap {
    /* margin-top: 10vh; */
    width: 20vw;
}
.slidertext ul {
    font-family: 'Antic Didone', serif;
    font-weight: 600;
    color: #547543;
    font-size: 1.3rem;
    margin-top: 5vh;
}
.slidertext li{
    font-family: 'IBM Plex Sans KR', sans-serif;
    color: #547543;
    text-align: center;
    font-size: 1.2rem;
    margin-top: 2vh;
    font-weight: 500;
}
.sliderlemon{
  background-image: url(./images/레몬허브.jpg);
  background-size: cover;
}
.slidergreenairy{
  background-size: cover;
  background-image: url(./images/green-airy.jpg);
}
.slidersoap{
  background-size: cover;
  background-image: url(./images/whitelily.jpg);
}
.sliderdowny{
  background-size: contain;
  background-image: url(./images/Folegandros.jpg);
  background-position: top;
}
.slidermusk{
  background-size: 20vw;
  background-image: url(./images/Xuebing\ Du_\ Photo.png);
}
.hidden{display: none;}
  </style>
</head>
<body>
  <section id="slider">
    <h4>Best for scense</h4>
    <div class="bgcircle-1"></div>
    <div id="sliderimg" >
      <div id="prodctimage" class="flex just-a">
        <img src="./images/images_41.png" alt="시그니처솝">
        <img src="./images/images_44.png" alt="그린에리어">
        <img src="./images/images_47.png" alt="레몬허브">
        <img src="./images/images_49.png" alt="런드리다우니">
        <img src="./images/images_52.png" alt="오리지널머스크">
      </div>
      <div class="container">
        <div class="c-bgimge">
          <div class="slidermusk" id="lastClone"></div>
          <div class="sliderlemon"></div>
          <div class="slidergreenairy"></div>
          <div class="slidersoap"></div>
          <div class="sliderdowny"></div>
          <div class="slidermusk"></div>
          <div class="sliderlemon" id="firstClone"></div>
        </div>
      </div>
      <div id="producttext" class="flex just-a">
        <div class="slidertext">
            <ul>Signature Soup</ul>
            <li>시그니처 솝</li>
        </div>
        <div class="slidertext">
            <ul>Green Airy</ul>
            <li>그린 에리어</li>
        </div>
        <div class="change slidertext">
            <ul>Lemon Herb</ul>
            <li>레몬 허브</li>
        </div>
        
        <div class="slidertext">
            <ul>Lundry&Downy</ul>
            <li>런드리 다우니</li>
        </div>
        <div class="slidertext">
          <ul>Original Musk</ul>
          <li>오리지널머스크</li>
        </div>
      </div>
    </div>
    <div class="sliderbutton flex just-center">
        <div class="sliderbuttonwrap flex just-b">
            <img class="button-l" src="./images/images_68.png" alt="buttonleft">
            <img class="button-r" src="./images/images_70.png" alt="buttonright">
        </div>
    </div>
</section>
</body>

<script>
  const change = document.querySelector('.c-bgimge');
  const buttonLeft = document.querySelector('.button-l');
  const buttonRight = document.querySelector('.button-r')
  const changeImages = document.querySelectorAll('.c-bgimge div');
  // const changeImages = ['.sliderlemon','.slidergreenairy','.slidersoap','.sliderdowny','.slidermusk'];
  console.log(change);
  console.log(buttonLeft);
  console.log(buttonRight);
  console.log(changeImages);

  let counter =1;
  const size = changeImages[0].clientWidth;
  // 실제하고 있는 이미지가 얼만큼 크기를 차지하고 있는지
  // change.style.transform = 'translateX('+(-size*counter)+'vw)';
  // button 
  buttonRight.addEventListener('click',function(){
    if(counter >= changeImages.length -1) return;
    change.style.transition = 'transform 0.4s ease-in-out';
    counter++;
    change.style.transform = 'translateX('+(-size*counter)+'vw)';
  });

  buttonLeft.addEventListener('click',function(){
    if(counter <=0) return;
    change.style.transition = 'transform 1s ease-in-out';
    counter--;
    // change.style.transform = `translateX(+(-${size*counter})vw)`;
    change.style.transform = 'translateX('+(-size*counter)+'vw)';
  });
  // jump to first/last slide
  change.addEventListener('transitionend',function(){
    console.log(changeImages[counter]);
    if(changeImages[counter].id === 'lastClone'){
      change.style.transition="none";
      counter =changeImages.length -2; //count 초기화
      change.style.transform = 'translateX('+(-size*counter)+'vw)';
    }else if(changeImages[counter].id === 'firstClone'){
      counter =changeImages.length - counter; //count 초기화
      change.style.transform = 'translateX('+(-size*counter)+'vw)';
    }
  });

  for(let i=0; i<sliderImages.length; i++){
    sliderImages[i].style.opacity = 0;
    sliderImages[i].style.display = "none";
    sliderImages[i].style.marginLeft = 0;
  };

  let index = 0;
  sliderButton.addEventListener('click',()=>{
    let opacityValue =0;
    const fadeIn = setInterval(function(){
      opacityValue += 0.1
      console.log(opacityValue);
      sliderImages[index-1].style.opacity=opacityValue;
      if(opacityValue>1){
        clearInterval(fadeIn)
      }
    },100);
    sliderImages[index].style.display="block"
  })
</script>
</html>